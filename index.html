
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>NF₃ vs NH₃ 결합각 시뮬레이션</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin: 0; padding: 0; }
    #viewer { width: 100%; height: 500px; border: 1px solid #ccc; }
    button { margin: 10px; padding: 10px 20px; }
  </style>
</head>
<body>
  <h1>NF₃ vs NH₃ 결합각 비교 시뮬레이션</h1>
  <div id="viewer"></div>
  <div>
    <button onclick="loadN()">N</button>
    <button onclick="addH()">H 추가</button>
    <button onclick="addF()">F 추가</button>
    <button onclick="reset()">초기화</button>
  </div>
  <p id="description">N (질소) 원자 하나만 존재하는 상태입니다.</p>
  <script src="3Dmol-min.js"></script>
  <script>
    let viewer, model, state = "N";

    function loadViewer() {
      viewer = $3Dmol.createViewer("viewer", {backgroundColor: "white"});
      reset();
    }

    function loadN() {
      state = "N";
      viewer.clear();
      model = viewer.addModel("N", "xyz");
      viewer.setStyle({}, {sphere: {color: "blue"}});
      viewer.zoomTo();
      viewer.render();
      document.getElementById("description").innerText = "N (질소) 원자 하나만 존재하는 상태입니다.";
    }

    function addH() {
      if (state !== "N") return;
      state = "NH3";
      viewer.clear();
      model = viewer.addModel("N 0 0 0\nH 1 0 0\nH -0.5 0.87 0\nH -0.5 -0.87 0", "xyz");
      viewer.setStyle({}, {sphere: {}});
      viewer.zoomTo();
      viewer.render();
      document.getElementById("description").innerText = "NH₃ (암모니아): 질소에 수소 3개가 결합한 구조입니다.";
    }

    function addF() {
      if (state !== "N") return;
      state = "NF3";
      viewer.clear();
      model = viewer.addModel("N 0 0 0\nF 1 0 0\nF -0.5 0.87 0\nF -0.5 -0.87 0", "xyz");
      viewer.setStyle({}, {sphere: {}});
      viewer.zoomTo();
      viewer.render();
      document.getElementById("description").innerText = "NF₃ (삼불화질소): 질소에 플루오린 3개가 결합한 구조입니다.";
    }

    function reset() {
      loadN();
    }

    window.onload = loadViewer;
  </script>
</body>
</html>
